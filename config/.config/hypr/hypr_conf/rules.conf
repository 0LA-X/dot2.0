# ----------------------------------
#   ____  _   _ _     _____ ____  
#  |  _ \| | | | |   | ____/ ___| 
#  | |_) | | | | |   |  _| \___ \ 
#  |  _ <| |_| | |___| |___ ___) |
#  |_| \_\\___/|_____|_____|____/ 
#
# ---------------------------------

# Disable blur for XWayland windows (or context menus with shadow would look weird)
windowrulev2 = noblur, xwayland:1

######################
## Floating Windows ##
######################
windowrulev2 = float, class:^(steam)$
windowrulev2 = float, class:^(pavucontrol)$
windowrulev2 = size 45%, class:^(pavucontrol)$
windowrulev2 = center, class:^(pavucontrol)$
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 45%, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = float, class:^(nm-connection-editor)$
windowrulev2 = size 45%, class:^(nm-connection-editor)$
windowrulev2 = center, class:^(nm-connection-editor)$

# Blueman (Bluetooth Manager) - Center + Float
windowrulev2 = float, class:^(blueman-manager)$
windowrulev2 = center, class:^(blueman-manager)$
windowrulev2 = size 800 600, class:^(blueman-manager)$  # Adjust size as needed

#################
## nmtui-popup ##
#################
windowrulev2 = float, class:^nmtui-popup$
windowrulev2 = center, class:^nmtui-popup$
windowrulev2 = size 70% 70%, class:^nmtui-popup$

# [ Center nmtui (adjust width/height as needed) ]
windowrulev2 = float, class:^nmtui-settings$
windowrulev2 = center, class:^nmtui-settings$
windowrulev2 = size 70% 70%, class:^nmtui-settings$

# [ Steam ]
windowrule = rounding 10, title:, class:steam
windowrule = float, title:Friends List, class:steam
windowrule = immediate, class:steam_app_[0-9]+  # Allow tearing for steam games
windowrule = idleinhibit always, class:steam_app_[0-9]+  # Always idle inhibit when playing a steam game

#######################
## Picture-in-Picture##
#######################
windowrulev2 = float, title:^(Picture-in-Picture|PiP)$
windowrulev2 = pin, title:^(Picture-in-Picture|PiP)$  # Keeps it above other windows (optional)
windowrulev2 = move 75%-25 75%-25, title:^(Picture-in-Picture|PiP)$  # Bottom-right (adjust offsets)
windowrulev2 = size 25% 25%, title:^(Picture-in-Picture|PiP)$  # Default size (adjust % as needed)


####################
## Dialog Windows ##
####################
windowrulev2 = float, class:^(.*)$, title:^(Open File|Select a File|Save As|File Upload|Open Folder|Library)(.*)$
windowrulev2 = center, class:^(.*)$, title:^(Open File|Select a File|Save As|File Upload|Open Folder|Library)(.*)$
windowrulev2 = size 800 600, class:^(.*)$, title:^(Open File|Select a File|Save As|File Upload|Open Folder|Library)(.*)$
windowrulev2 = minsize 400 300, class:^(.*)$, title:^(Open File|Select a File|Save As|File Upload|Open Folder|Library)(.*)$

# [ Archive extraction dialogs - Center + Float ] 
windowrulev2 = float, title:^(Extract|Extract Here|Extract to Folder|Archive Extractor)(.*)$
windowrulev2 = center, title:^(Extract|Extract Here|Extract to Folder|Archive Extractor)(.*)$
windowrulev2 = size 800 600, title:^(Extract|Extract Here|Extract to Folder|Archive Extractor)(.*)$

# [ Generic GTK/Qt dialogs (fallback) ] 
windowrulev2 = float, class:^(.*)(dialog|Dialog)(.*)$
windowrulev2 = center, class:^(.*)(dialog|Dialog)(.*)$
windowrulev2 = size 800 600, class:^(.*)(dialog|Dialog)(.*)$

# --- Tearing ---
windowrulev2 = immediate, title:.*\.exe

# No shadow for tiled windows (matches windows that are not floating).
windowrulev2 = noshadow, floating:0

# ------ Workspace rules ------
workspace = special:special, gapsout:30
workspace = w[tv1]s[false], gapsout:20, gapsin:20
workspace = f[1]s[false], gapsout:20, gapsin:20

#################
## Layer rules ##
#################
layerrule = xray 1, .*
layerrule = noanim, hyprpicker

layerrule = noanim, noanim
layerrule = blur, gtk-layer-shell
layerrule = ignorezero, gtk-layer-shell
layerrule = blur, launcher
layerrule = ignorealpha 0.5, launcher
layerrule = blur, notifications
layerrule = ignorealpha 0.69, notifications
layerrule = blur, logout_dialog # wlogout

# [Swaync Tweak for blur]
layerrule = blur, swaync-control-center
layerrule = blur, swaync-notification-window
layerrule = ignorealpha 0.5, swaync-control-center
layerrule = ignorealpha 0.5, swaync-notification-window

# --------------
#  Transparency  
# --------------          
$out = 0.30

windowrule = opacity 0.85 $out,class:^(kitty)$
#windowrule = opacity 0.90 $out,class:^(com.mitchellh.ghostty)$
windowrule = opacity 0.85 0.80,class:^(zen)$
windowrule = opacity 0.85 $out,class:^(org.gnome.Nautilus)$
windowrule = opacity 0.85 $out,class:^(spotify)$
windowrule = opacity 0.85 $out,class:^(obsidian)$
